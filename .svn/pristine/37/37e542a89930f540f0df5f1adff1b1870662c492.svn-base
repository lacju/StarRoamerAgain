using System.Collections;
using System.Collections.Generic;
using UnityEngine;



public class Armor : MonoBehaviour
{
    public enum DamageType
    {
        energy, plasma, kinetic, blast
    }

    [Tooltip("Maximum armor points")]
    public float armorPoints;
    [Tooltip("The larger the number the lower the damage reduction (Range: 0.1-1)")]
    public float armorLevel;
    [Tooltip("Damage resitance")]
    public DamageType damageResistance;
    [Tooltip("Damage resistence modifier. Larger numbers mean lower damage reduction (Range: 0.1-1)")]
    public float resistanceModifier;
    [Tooltip("Weakness to damage type")]
    public DamageType damageWeakness;
    [Tooltip("Damage weakness modifier. Smaller number means more damage from selected type (Range: 0.1-1)")]
    public float weaknessModifier;

    private bool isEquipped = false;
    private PlayerObjectController _POC;
    private float newArmorPoints; //level assigned and held when unequipping the armor in case its damaged


    public void EquipArmor()
    {
        _POC = GameObject.FindGameObjectWithTag("Player").GetComponent<PlayerObjectController>();

        if (newArmorPoints < armorPoints)
        {
            _POC.SetMaxArmorPoints(armorPoints);
            _POC.SetCurrentArmorPoints(newArmorPoints);
        }       
        _POC.SetMaxArmorPoints(armorPoints);
        _POC.SetCurrentArmorPoints(armorPoints);
        isEquipped = true;
    }

    public void UnequipArmor()
    {
        _POC.SetMaxArmorPoints(1);
        _POC.SetCurrentArmorPoints(0);
        newArmorPoints = _POC.GetCurrentArmorPoints();
        isEquipped = false;

    }
}

