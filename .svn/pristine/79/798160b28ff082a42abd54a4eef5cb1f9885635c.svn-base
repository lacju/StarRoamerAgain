using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class Reactor : MonoBehaviour {

    [Tooltip("Maximum power")]
    public float maxPower;
    [Tooltip("Recharge Rate")]
    public float rechargeRate;

    private bool isEquipped = false;
    private PlayerObjectController _POC;


    public void RemoveReactor()
    {
        _POC.SetMaxEnergy(1);
        _POC.SetAvailEnergy(0);

    }

    public void InstallReactor()
    {
        _POC.SetMaxEnergy(maxPower);
        _POC.SetAvailEnergy(0);
    }

    public void Regenerate()
    {
        if (_POC.GetAvailEnergy() < _POC.GetMaxEnergy())
        {
            if (_POC.GetAvailEnergy() < 0)
            {
                _POC.SetAvailEnergy(0);
            }
             if (_POC.GetAvailEnergy() < _POC.GetMaxEnergy())
            {
                if ((_POC.GetMaxEnergy() - _POC.GetCurrentShieldPoints()) < RechargeRate())
                {
                    _POC.SetAvailEnergy(_POC.GetMaxEnergy());
                }
                else
                {
                    _POC.AddToCurrentEnergy(RechargeRate());
                }
            }
        }
    }

    public float RechargeRate()
    {
        return rechargeRate;
    }

}
